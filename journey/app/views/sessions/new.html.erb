<% content_for :styles do %>
  <%= stylesheet_link_tag "views/sessions/new" %>
<% end %>

<main class="screen">
  <h1 class="app-title"><%= t("app.name") %></h1>

  <section class="card" aria-labelledby="login-title">
    <h2 id="login-title" class="card__title"><%= t("sessions.heading") %></h2>

    <% if flash[:alert].present? %>
      <p class="card__info card__info--error" role="alert"><%= flash[:alert] %></p>
    <% elsif flash[:notice].present? %>
      <p class="card__info card__info--notice" role="status"><%= flash[:notice] %></p>
    <% end %>

    <%= form_with url: sign_in_path, scope: :session, method: :post, data: { turbo: false } do |f| %>
      <label class="form__field">
        <span class="form__label">
          <%= t("users.new.fields.email") %><span aria-hidden="true" class="form__req">*</span>
        </span>
        <%= f.email_field :email,
          required: true,
          autocomplete: "username",
          value: params.dig(:session, :email),
          placeholder: t("sessions.fields.email.placeholder"),
          class: "form__input" %>
      </label>

      <label class="form__field">
        <span class="form__label">
          <%= t("users.new.fields.password") %><span aria-hidden="true" class="form__req">*</span>
        </span>
        <%= f.password_field :password,
          required: true,
          autocomplete: "current-password",
          placeholder: t("sessions.fields.password.placeholder"),
          class: "form__input" %>
      </label>

      <div class="card__actions">
        <%= link_to t("sessions.forgot_password"),
          new_password_path,
          class: "card__actions-link" %>

        <button class="card__actions-btn" type="submit">
          <%= t("sessions.new.sign_in") %>
        </button>
      </div>
    <% end %>

    <p class="card__note card__note--muted">
      <%= t("sessions.signup_prompt.text") %>
      <%= link_to t("sessions.signup_prompt.link"), sign_up_path, class: "card__note-link" %>
    </p>
  </section>
</main>
